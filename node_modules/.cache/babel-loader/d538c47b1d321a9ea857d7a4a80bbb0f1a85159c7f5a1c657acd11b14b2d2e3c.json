{"ast":null,"code":"\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\nvar urlBuilder = require('@sanity/image-url');\nvar objectAssign = require('object-assign');\nvar enc = encodeURIComponent;\nvar materializeError = \"You must either:\\n  - Pass `projectId` and `dataset` to the block renderer\\n  - Materialize images to include the `url` field.\\n\\nFor more information, see \".concat(generateHelpUrl('block-content-image-materializing'));\nvar getQueryString = function getQueryString(options) {\n  var query = options.imageOptions;\n  var keys = Object.keys(query);\n  if (!keys.length) {\n    return '';\n  }\n  var params = keys.map(function (key) {\n    return \"\".concat(enc(key), \"=\").concat(enc(query[key]));\n  });\n  return \"?\".concat(params.join('&'));\n};\nvar buildUrl = function buildUrl(props) {\n  var node = props.node,\n    options = props.options;\n  var projectId = options.projectId,\n    dataset = options.dataset;\n  var asset = node.asset;\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property');\n  }\n  if (asset.url) {\n    return asset.url + getQueryString(options);\n  }\n  if (!projectId || !dataset) {\n    throw new Error(materializeError);\n  }\n  var ref = asset._ref;\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`');\n  }\n  return urlBuilder(objectAssign({\n    projectId: projectId,\n    dataset: dataset\n  }, options.imageOptions || {})).image(node).toString();\n};\nmodule.exports = buildUrl;","map":{"version":3,"names":["generateHelpUrl","require","urlBuilder","objectAssign","enc","encodeURIComponent","materializeError","concat","getQueryString","options","query","imageOptions","keys","Object","length","params","map","key","join","buildUrl","props","node","projectId","dataset","asset","Error","url","ref","_ref","image","toString","module","exports"],"sources":["C:\\Projects\\seattle-community-fridge\\node_modules\\@sanity\\block-content-to-hyperscript\\src\\getImageUrl.js"],"sourcesContent":["const generateHelpUrl = require('@sanity/generate-help-url')\nconst urlBuilder = require('@sanity/image-url')\nconst objectAssign = require('object-assign')\n\nconst enc = encodeURIComponent\nconst materializeError = `You must either:\n  - Pass \\`projectId\\` and \\`dataset\\` to the block renderer\n  - Materialize images to include the \\`url\\` field.\n\nFor more information, see ${generateHelpUrl('block-content-image-materializing')}`\n\nconst getQueryString = options => {\n  const query = options.imageOptions\n  const keys = Object.keys(query)\n  if (!keys.length) {\n    return ''\n  }\n\n  const params = keys.map(key => `${enc(key)}=${enc(query[key])}`)\n  return `?${params.join('&')}`\n}\n\nconst buildUrl = props => {\n  const {node, options} = props\n  const {projectId, dataset} = options\n  const asset = node.asset\n\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property')\n  }\n\n  if (asset.url) {\n    return asset.url + getQueryString(options)\n  }\n\n  if (!projectId || !dataset) {\n    throw new Error(materializeError)\n  }\n\n  const ref = asset._ref\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`')\n  }\n\n  return urlBuilder(objectAssign({projectId, dataset}, options.imageOptions || {}))\n    .image(node)\n    .toString()\n}\n\nmodule.exports = buildUrl\n"],"mappings":";;AAAA,IAAMA,eAAe,GAAGC,OAAO,CAAC,2BAAD,CAA/B;AACA,IAAMC,UAAU,GAAGD,OAAO,CAAC,mBAAD,CAA1B;AACA,IAAME,YAAY,GAAGF,OAAO,CAAC,eAAD,CAA5B;AAEA,IAAMG,GAAG,GAAGC,kBAAZ;AACA,IAAMC,gBAAgB,kKAAAC,MAAA,CAIMP,eAAe,CAAC,mCAAD,CAJrB,CAAtB;AAMA,IAAMQ,cAAc,GAAG,SAAjBA,cAAiBA,CAAAC,OAAO,EAAI;EAChC,IAAMC,KAAK,GAAGD,OAAO,CAACE,YAAtB;EACA,IAAMC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,KAAZ,CAAb;EACA,IAAI,CAACE,IAAI,CAACE,MAAV,EAAkB;IAChB,OAAO,EAAP;EACD;EAED,IAAMC,MAAM,GAAGH,IAAI,CAACI,GAAL,CAAS,UAAAC,GAAG;IAAA,UAAAV,MAAA,CAAOH,GAAG,CAACa,GAAD,CAAV,OAAAV,MAAA,CAAmBH,GAAG,CAACM,KAAK,CAACO,GAAD,CAAN,CAAtB;EAAA,CAAZ,CAAf;EACA,WAAAV,MAAA,CAAWQ,MAAM,CAACG,IAAP,CAAY,GAAZ,CAAX;AACD,CATD;AAWA,IAAMC,QAAQ,GAAG,SAAXA,QAAWA,CAAAC,KAAK,EAAI;EAAA,IACjBC,IADiB,GACAD,KADA,CACjBC,IADiB;IACXZ,OADW,GACAW,KADA,CACXX,OADW;EAAA,IAEjBa,SAFiB,GAEKb,OAFL,CAEjBa,SAFiB;IAENC,OAFM,GAEKd,OAFL,CAENc,OAFM;EAGxB,IAAMC,KAAK,GAAGH,IAAI,CAACG,KAAnB;EAEA,IAAI,CAACA,KAAL,EAAY;IACV,MAAM,IAAIC,KAAJ,CAAU,+CAAV,CAAN;EACD;EAED,IAAID,KAAK,CAACE,GAAV,EAAe;IACb,OAAOF,KAAK,CAACE,GAAN,GAAYlB,cAAc,CAACC,OAAD,CAAjC;EACD;EAED,IAAI,CAACa,SAAD,IAAc,CAACC,OAAnB,EAA4B;IAC1B,MAAM,IAAIE,KAAJ,CAAUnB,gBAAV,CAAN;EACD;EAED,IAAMqB,GAAG,GAAGH,KAAK,CAACI,IAAlB;EACA,IAAI,CAACD,GAAL,EAAU;IACR,MAAM,IAAIF,KAAJ,CAAU,8DAAV,CAAN;EACD;EAED,OAAOvB,UAAU,CAACC,YAAY,CAAC;IAACmB,SAAS,EAATA,SAAD;IAAYC,OAAO,EAAPA;EAAZ,CAAD,EAAuBd,OAAO,CAACE,YAAR,IAAwB,EAA/C,CAAb,CAAV,CACJkB,KADI,CACER,IADF,EAEJS,QAFI,EAAP;AAGD,CAzBD;AA2BAC,MAAM,CAACC,OAAP,GAAiBb,QAAjB"},"metadata":{},"sourceType":"script","externalDependencies":[]}