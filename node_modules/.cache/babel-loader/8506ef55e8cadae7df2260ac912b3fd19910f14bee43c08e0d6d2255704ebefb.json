{"ast":null,"code":"\"use strict\";\n\nvar objectAssign = require('object-assign');\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n  if (strlen === 0) {\n    return hash;\n  }\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n  return hash;\n}\n/* eslint-enable no-bitwise */","map":{"version":3,"names":["objectAssign","require","module","exports","blocks","map","block","_key","getStaticKey","item","checksum","JSON","stringify","toString","replace","str","hash","strlen","length","i","charCodeAt"],"sources":["C:\\Projects\\seattle-community-fridge\\node_modules\\@sanity\\block-content-to-hyperscript\\src\\generateKeys.js"],"sourcesContent":["const objectAssign = require('object-assign')\n\nmodule.exports = blocks => {\n  return blocks.map(block => {\n    if (block._key) {\n      return block\n    }\n\n    return objectAssign({_key: getStaticKey(block)}, block)\n  })\n}\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item))\n    .toString(36)\n    .replace(/[^A-Za-z0-9]/g, '')\n}\n\n/* eslint-disable no-bitwise */\nfunction checksum(str) {\n  let hash = 0\n  const strlen = str.length\n  if (strlen === 0) {\n    return hash\n  }\n\n  for (let i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i)\n    hash &= hash // Convert to 32bit integer\n  }\n\n  return hash\n}\n/* eslint-enable no-bitwise */\n"],"mappings":";;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAAC,MAAM,EAAI;EACzB,OAAOA,MAAM,CAACC,GAAP,CAAW,UAAAC,KAAK,EAAI;IACzB,IAAIA,KAAK,CAACC,IAAV,EAAgB;MACd,OAAOD,KAAP;IACD;IAED,OAAON,YAAY,CAAC;MAACO,IAAI,EAAEC,YAAY,CAACF,KAAD;IAAnB,CAAD,EAA8BA,KAA9B,CAAnB;EACD,CANM,CAAP;AAOD,CARD;AAUA,SAASE,YAATA,CAAsBC,IAAtB,EAA4B;EAC1B,OAAOC,QAAQ,CAACC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAD,CAAR,CACJI,QADI,CACK,EADL,EAEJC,OAFI,CAEI,eAFJ,EAEqB,EAFrB,CAAP;AAGD;AAED;;AACA,SAASJ,QAATA,CAAkBK,GAAlB,EAAuB;EACrB,IAAIC,IAAI,GAAG,CAAX;EACA,IAAMC,MAAM,GAAGF,GAAG,CAACG,MAAnB;EACA,IAAID,MAAM,KAAK,CAAf,EAAkB;IAChB,OAAOD,IAAP;EACD;EAED,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAApB,EAA4BE,CAAC,EAA7B,EAAiC;IAC/BH,IAAI,GAAG,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAd,GAAqBD,GAAG,CAACK,UAAJ,CAAeD,CAAf,CAA5B;IACAH,IAAI,IAAIA,IAAR,CAF+B,CAElB;EACd;EAED,OAAOA,IAAP;AACD;AACD"},"metadata":{},"sourceType":"script","externalDependencies":[]}